<!DOCTYPE html> <!-- add meta tag -->
<html lang="en">
<head>	
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--add utf 8 declaration -->
        <title>Homepage</title>
        <script type="text/javascript" src="js/code.js" defer></script>
		<link rel="preconnect" href="https://fonts.googleapis.com"> <!--preconnect-->
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>

    <link href="css/styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" > <!-- use font instead of img icons-->

        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function()
        {
                readCookie();
        }, false);
        </script>

</head>

<body class="contacts-page">

<!--Top Bar Navigation -->
<div class="topnav">
        <h1 id="title">Welcome <span id="userName"></span></h1> <!--Retrieve username-->
        <button type="button" id="logoutButton" class="buttons" onclick="doLogout();"> 
			<i class="fa-solid fa-arrow-right-from-bracket"></i> Log Out </button>		
</div>

<main> <!-- for accesibility-->
<div id="accessUIDiv">
        <br />
		<!--Search Contacts-->
		<div id="searchDiv">
        <input type="text" id="searchText" placeholder="Search Contacts"/>
        <button type="button" id="searchContactButton" class="buttons" onclick="searchContacts();"> <i class="fas fa-search"></i> Search  </button><br /> <!--wait for updated js-->
        </div>

		<span id="contactSearchResult"></span>
		
		<!--Table for contacts-->
		<div class="tableWrap">
		<table id="contactList" class="contact-table"> <!-- results displayed here, wait for updated js--> 
			<thead> <!--headers-->
				<tr>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Email</th>
					<th>Phone</th>
					<th>Edit / Delete </th> 
					<!-- <th>Edit</th>
					<th>Delete</th> -->
				</tr>
			</thead>
			
			<tbody id="tbody">
				<!--js-->
			</tbody>
		</table>
		</div>
		  
        
		<br /><br />

		
		<!--Add Contacts--> 
		<button type="button" class="buttons" onclick="openAddContact();">
			<i class="fa-solid fa-plus"></i> Add New Contact</button>
        
</div>

<!--Add contact modal-->
<div id="addContactModal" class="modal">
	<div class="modal-content">

				<!--Close -->
                <span class="close" onclick="closeAddContact();">&times;</span>
				

                <h2>Add New Contact</h2>
				<!--Currrently all fields are required-->
                <form id="registerForm" onsubmit="event.preventDefault();addContact();">
                <input type="text" id="firstName" placeholder="Name" required/><br /> <!--consider name change? (id)-->
                <input type="text" id="lastName" placeholder="Last Name" required/><br />
				<input type="text" id="email" placeholder="Email" required/><br />
				<input type="text" id="phone" placeholder="Phone Number" required/><br /> 

                
				<div class="button-group">
                <button type="submit" id="addContactButton" class="buttons"> 
					<i class="fa-solid fa-plus"></i> Add </button><br /> <!-- wait for updated js-->
                <button class="buttons" id="addCancelButton" onclick="closeAddContact();clearAddContact();">Cancel</button>
                </div>
                
          
                <br />
                <span id="contactAddResult"></span> <!-- n (js)-->
                </form>
        </div>

</div>

<!--Edit Contact Modal--> <!--edit again with edit function-->
<div id="editContactModal" class="modal">
	<div class="modal-content">
		<!--Close -->
        <span class="close" onclick="closeEditContact();">&times;</span>
		
		<form id="editContactForm" onsubmit="event.preventDefault(); " ><!-- add edit function name here (js)-->
			<input type="text" id="editFirstName" placeholder="Name" required/><br />
            <input type="text" id="editLastName" placeholder="Last Name" required/><br />
            <input type="text" id="editEmail" placeholder="Email" required/><br />
            <input type="text" id="editPhone" placeholder="Phone Number" required/><br />


			<button type="submit" id="editContactButton" class="buttons"> Save changes </button><br /> <!-- add functionname,wait for updated js-->

			<br />
            <span id="contactEditResult"></span> <!-- add result name (js) here-->
		</form>

	</div>
</div>
</main> <!--accesibility-->

<script>
	function openAddContact(){
		document.getElementById("addContactModal").style.display = "flex";
	}

	function closeAddContact(){
		document.getElementById("addContactModal").style.display = "none";
		
	}

	function openEditContact(){
		document.getElementById("editContactModal").style.display = "flex";
	}

	function closeEditContact(){
		document.getElementById("editContactModal").style.display = "none";
		
	}
	function clearAddContact()
        {
                // Clear form fields
                document.getElementById("firstName").value = "";
                document.getElementById("lastName").value = "";
                document.getElementById("email").value = "";
                document.getElementById("phone").value = "";
        }
</script>

</body>
</html>